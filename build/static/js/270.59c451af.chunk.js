"use strict";(self.webpackChunkauction_app_admin=self.webpackChunkauction_app_admin||[]).push([[270],{2270:(e,t,n)=>{n.r(t),n.d(t,{default:()=>de});var s=n(7353),r=n(6258),a=n(6580),o=n(5043),i=n(6240),l=n(5442),c=n(7392),d=n(2323),u=n(8136);const p=(0,u.A)({container:{flex:1,display:"flex",flexDirection:"column",justifyContent:"space-between",alignItems:"center",padding:8},text:{marginBottom:16},logo:{display:"flex",alignItems:"center",justifyContent:"center",width:"100%",padding:"20px 0"},imageWrapper:{textAlign:"center",width:"100%"},image:{width:"80%",height:"auto",transition:"width 0.2s ease-in-out"},dotsContainer:{display:"flex",justifyContent:"space-between",marginTop:16},dotButton:{size:"small",width:18,height:18,margin:"0 4px !important",display:"flex",justifyContent:"center",alignItems:"center",transition:"background-color 0.5s ease-in-out"}}),m=(0,u.A)({root:{display:"flex",minHeight:"92vh",overflow:"hidden",flexDirection:"column","@media (min-width:600px)":{flexDirection:"row"}},carouselContainer:{flex:1,display:"flex",justifyContent:"center",alignItems:"center",overflow:"hidden"},componentContainer:{flex:1,display:"flex",justifyContent:"center",alignItems:"center",overflow:"hidden"},fadeWrapper:{width:"100%"}}),h=(0,u.A)({container:{flex:1,display:"flex",justifyContent:"center",alignItems:"center",padding:"16px"},formWrapper:{width:"100%",maxWidth:400},title:{marginBottom:"16px"},description:{marginBottom:"16px",fontSize:"15px"},label:{paddingTop:"16px",fontWeight:600,fontSize:"15px"}}),x=(0,u.A)({codeInputContainer:{display:"flex",justifyContent:"start",alignItems:"center",gap:8}}),g=(0,u.A)({container:{display:"flex",justifyContent:"center",alignItems:"center",width:"100%"},paper:{padding:4,maxWidth:400,width:"100%"},title:{padding:"8px 0"},description:{fontSize:16,marginBottom:"16px"},label:{fontWeight:600,fontSize:15,paddingTop:"16px"},textFieldWrapper:{width:"100%",padding:"8px 0"},buttonWrapper:{marginTop:"16px",fontSize:16}});var f=n(579);const y=()=>{const e=(0,i.A)(),t=e.palette.primary.main,n=(0,l.A)(e.breakpoints.down("sm")),a=p(),[u,m]=(0,o.useState)(0),[h,x]=(0,o.useState)(!0),g=(0,o.useRef)(null),y=[{svg:"imglogin1.svg",text:"Lorem ipsum dolor sit amet"},{svg:"imglogin2.svg",text:"Lorem ipsum dolor sit adipisicing"},{svg:"imglogin1.svg",text:"Lorem ipsum dolor sit"}];(0,o.useEffect)((()=>(g.current&&clearInterval(g.current),g.current=setInterval((()=>{x(!1),setTimeout((()=>{m((e=>(e+1)%y.length)),x(!0)}),500)}),5e3),()=>{g.current&&clearInterval(g.current)})),[]);return(0,f.jsxs)(s.A,{className:a.container,style:{height:n?"300px":"90%"},children:[(0,f.jsx)(s.A,{className:a.logo,children:(0,f.jsx)("img",{src:"".concat("","/assets/svgs/logo.svg"),alt:"Parker's Auction",style:{width:"30%"}})}),(0,f.jsx)(r.A,{in:h,timeout:1e3,children:(0,f.jsx)(s.A,{className:a.imageWrapper,children:(0,f.jsx)(s.A,{component:"img",src:"".concat("","/assets/svgs/").concat(y[u].svg),alt:"SVG ".concat(u),className:a.image})})}),(0,f.jsx)(s.A,{className:a.dotsContainer,children:y.map(((n,s)=>(0,f.jsx)(c.A,{onClick:()=>(e=>{g.current&&clearInterval(g.current),x(!1),setTimeout((()=>{m(e),x(!0)}),500),g.current=setInterval((()=>{x(!1),setTimeout((()=>{m((e=>(e+1)%y.length)),x(!0)}),500)}),5e3)})(s),className:a.dotButton,sx:{backgroundColor:u===s?t:"transparent",border:"2px solid ".concat(t),"& svg":{fill:u===s?t:e.palette.primary.main3,transition:"fill 0.5s ease-in-out"}},children:(0,f.jsx)(d.A,{})},s)))})]})};var A=n(1596),w=n(4496),j=n(1787),v=n(9379),C=n(45),b=n(8387),S=n(1546),k=n(8610),P=n(8218),W=n(6803),B=n(4535),I=n(6262),N=n(2445),T=n(8206),z=n(2532),L=n(2372);function q(e){return(0,L.Ay)("MuiLink",e)}const D=(0,z.A)("MuiLink",["root","underlineNone","underlineHover","underlineAlways","button","focusVisible"]);var Y=n(1724);const E=e=>{let{theme:t,ownerState:n}=e;const s=n.color,r=(0,Y.Yn)(t,"palette.".concat(s),!1)||n.color,a=(0,Y.Yn)(t,"palette.".concat(s,"Channel"));return"vars"in t&&a?"rgba(".concat(a," / 0.4)"):(0,S.X4)(r,.4)},O=["className","color","component","onBlur","onFocus","TypographyClasses","underline","variant","sx"],K={primary:!0,secondary:!0,error:!0,info:!0,success:!0,warning:!0,textPrimary:!0,textSecondary:!0,textDisabled:!0},M=(0,B.Ay)(w.A,{name:"MuiLink",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t["underline".concat((0,W.A)(n.underline))],"button"===n.component&&t.button]}})((0,I.A)((e=>{let{theme:t}=e;return{variants:[{props:{underline:"none"},style:{textDecoration:"none"}},{props:{underline:"hover"},style:{textDecoration:"none","&:hover":{textDecoration:"underline"}}},{props:{underline:"always"},style:{textDecoration:"underline","&:hover":{textDecorationColor:"inherit"}}},{props:e=>{let{underline:t,ownerState:n}=e;return"always"===t&&"inherit"!==n.color},style:{textDecorationColor:"var(--Link-underlineColor)"}},...Object.entries(t.palette).filter((0,N.A)()).map((e=>{let[n]=e;return{props:{underline:"always",color:n},style:{"--Link-underlineColor":t.vars?"rgba(".concat(t.vars.palette[n].mainChannel," / 0.4)"):(0,S.X4)(t.palette[n].main,.4)}}})),{props:{underline:"always",color:"textPrimary"},style:{"--Link-underlineColor":t.vars?"rgba(".concat(t.vars.palette.text.primaryChannel," / 0.4)"):(0,S.X4)(t.palette.text.primary,.4)}},{props:{underline:"always",color:"textSecondary"},style:{"--Link-underlineColor":t.vars?"rgba(".concat(t.vars.palette.text.secondaryChannel," / 0.4)"):(0,S.X4)(t.palette.text.secondary,.4)}},{props:{underline:"always",color:"textDisabled"},style:{"--Link-underlineColor":(t.vars||t).palette.text.disabled}},{props:{component:"button"},style:{position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none","&::-moz-focus-inner":{borderStyle:"none"},["&.".concat(D.focusVisible)]:{outline:"auto"}}}]}}))),R=o.forwardRef((function(e,t){const n=(0,T.b)({props:e,name:"MuiLink"}),s=(0,i.A)(),{className:r,color:a="primary",component:l="a",onBlur:c,onFocus:d,TypographyClasses:u,underline:p="always",variant:m="inherit",sx:h}=n,x=(0,C.A)(n,O),[g,y]=o.useState(!1),A=(0,v.A)((0,v.A)({},n),{},{color:a,component:l,focusVisible:g,underline:p,variant:m}),w=(e=>{const{classes:t,component:n,focusVisible:s,underline:r}=e,a={root:["root","underline".concat((0,W.A)(r)),"button"===n&&"button",s&&"focusVisible"]};return(0,k.A)(a,q,t)})(A);return(0,f.jsx)(M,(0,v.A)((0,v.A)({color:a,className:(0,b.A)(w.root,r),classes:u,component:l,onBlur:e=>{(0,P.A)(e.target)||y(!1),c&&c(e)},onFocus:e=>{(0,P.A)(e.target)&&y(!0),d&&d(e)},ref:t,ownerState:A,variant:m},x),{},{sx:[...void 0===K[a]?[{color:a}]:[],...Array.isArray(h)?h:[h]],style:(0,v.A)((0,v.A)({},x.style),"always"===p&&"inherit"!==a&&!K[a]&&{"--Link-underlineColor":E({theme:s,ownerState:A})})}))})),V=R;var F=n(1637),H=n(3516),Z=n(899),X=n(3559),_=n(3632),G=n(4570),J=n(6973),U=n(35),$=n(5316),Q=n(9662);const ee=(0,Q.A)((0,f.jsx)("path",{d:"M14.59 8 12 10.59 9.41 8 8 9.41 10.59 12 8 14.59 9.41 16 12 13.41 14.59 16 16 14.59 13.41 12 16 9.41zM12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8"}),"HighlightOff"),te=e=>{let{open:t,onClose:n,modalType:r}=e;const a=[{type:"login",title:"Congratulations!",desc:"You have successfully logged into the system!",svg:"".concat("","/assets/svgs/congratulation.svg")},{type:"password",title:"Congratulations!",desc:"Your password has been updated successfully!",svg:"".concat("","/assets/svgs/check.svg")},{type:"savelot",title:"Save Your Lot!",desc:"Please save your current lot first."}].find((e=>e.type===r));return a?(0,f.jsxs)(U.A,{open:t,onClose:n,children:[(0,f.jsx)(c.A,{onClick:n,color:"primary",sx:{position:"absolute",right:0},children:(0,f.jsx)(ee,{})}),(0,f.jsxs)($.A,{sx:{my:2},children:[a.svg&&(0,f.jsx)(s.A,{display:"flex",justifyContent:"center",alignItems:"center",children:(0,f.jsx)(s.A,{component:"img",src:a.svg,alt:a.title,sx:{width:"120px",height:"auto",transition:"width 0.2s ease-in-out"}})}),(0,f.jsx)(w.A,{variant:"h4",textAlign:"center",mt:2,color:"primary",children:a.title}),(0,f.jsx)(w.A,{variant:"body1",textAlign:"center",mt:2,children:a.desc})]})]}):null};var ne=n(8393),se=n(706),re=n(1873);const ae=e=>{let{setIsAuthenticated:t}=e;const n=(0,a.Zp)(),[r,i]=(0,o.useState)(!1),[l,d]=(0,o.useState)(!1),[u,p]=(0,o.useState)(!1),m=(0,H.Wx)({initialValues:{email:"",password:""},validationSchema:Z.Ik({email:Z.Yj().email("Invalid email address").required("Email is required"),password:Z.Yj().min(3,"Password should be at least 8 characters").required("Password is required")}),onSubmit:e=>{h(e)}}),h=async e=>{p(!0);try{const s=await(0,se.Y5)(e);p(!1),200==(null===s||void 0===s?void 0:s.status)&&(d(!0),setTimeout((()=>{d(!1),n("/"),sessionStorage.setItem("email",JSON.stringify(e.email)),t(!0)}),2e3))}catch(r){var s;404==(null===(s=r.response)||void 0===s?void 0:s.status)?(0,re.K)("User not found check email or password"):(0,re.K)("An error occurred")}finally{p(!1)}};return(0,f.jsxs)(s.A,{display:"flex",justifyContent:"center",alignItems:"center",width:"100%",children:[(0,f.jsxs)(A.A,{elevation:0,sx:{padding:4,maxWidth:400,width:"100%"},children:[(0,f.jsx)(w.A,{variant:"h5",py:.5,children:"Login"}),(0,f.jsx)(w.A,{fontSize:16,gutterBottom:!0,children:"Sign in to continue into the platform."}),(0,f.jsxs)("form",{onSubmit:m.handleSubmit,children:[(0,f.jsxs)(s.A,{width:"100%",sx:{py:1},children:[(0,f.jsx)(w.A,{fontWeight:"600",fontSize:15,py:1,children:"Email:"}),(0,f.jsx)(G.A,{fullWidth:!0,type:"email",required:!0,name:"email",value:m.values.email,onChange:m.handleChange,onBlur:m.handleBlur,error:m.touched.email&&Boolean(m.errors.email),helperText:m.touched.email&&m.errors.email,placeholder:"user123@gmail.com"})]}),(0,f.jsxs)(s.A,{children:[(0,f.jsx)(w.A,{fontWeight:"600",fontSize:15,pt:1,children:"Password:"}),(0,f.jsx)(G.A,{fullWidth:!0,type:r?"text":"password",margin:"dense",variant:"outlined",required:!0,name:"password",value:m.values.password,onChange:m.handleChange,onBlur:m.handleBlur,error:m.touched.password&&Boolean(m.errors.password),helperText:m.touched.password&&m.errors.password,placeholder:"**********",slotProps:{input:{endAdornment:(0,f.jsx)(j.A,{position:"end",children:(0,f.jsx)(c.A,{onClick:()=>{i((e=>!e))},edge:"end",sx:{color:"primary.main"},children:r?(0,f.jsx)(X.A,{}):(0,f.jsx)(_.A,{})})})}}}),(0,f.jsx)(s.A,{display:"flex",justifyContent:"flex-end",mt:1,children:(0,f.jsx)(V,{onClick:()=>n("/forgot-password"),variant:"body2",fontWeight:400,underline:"hover",sx:{cursor:"pointer"},children:"Forgot password?"})})]}),(0,f.jsx)(J.A,{fullWidth:!0,type:"submit",variant:"contained",sx:{mt:2,fontSize:16},children:u?(0,f.jsx)(F.A,{sx:{color:ne.A.palette.primary.main3}}):" Continue"})]})]}),(0,f.jsx)(te,{open:l,modalType:"login",onClose:()=>d(!1)})]})},oe=(0,Q.A)((0,f.jsx)("path",{d:"M21 11H6.83l3.58-3.59L9 6l-6 6 6 6 1.41-1.41L6.83 13H21z"}),"KeyboardBackspace"),ie=e=>{let{setEmail:t}=e;const n=(0,a.Zp)(),[r,i]=(0,o.useState)(!1),l=h(),c=(0,H.Wx)({initialValues:{email:""},validationSchema:Z.Ik({email:Z.Yj().email("Invalid email address").required("Email is required")}),onSubmit:e=>{i(!0),d(e.email)}}),d=async e=>{try{(await(0,se.BD)(e)).data.startsWith("OTP has been sent to:")?(t(e),n("/reset-password")):(0,re.K)("Couldn't send email to "+e)}catch(s){(0,re.K)("Couldn't send email to "+e)}finally{i(!1)}};return(0,f.jsx)(s.A,{className:l.container,children:(0,f.jsxs)(s.A,{className:l.formWrapper,children:[(0,f.jsx)(w.A,{variant:"h5",className:l.title,children:"Forgot Password"}),(0,f.jsx)(w.A,{variant:"body1",className:l.description,children:"If you forget your password, we will send you reset instructions."}),(0,f.jsx)(w.A,{className:l.label,children:"Email:"}),(0,f.jsx)(G.A,{variant:"outlined",fullWidth:!0,margin:"normal",required:!0,name:"email",value:c.values.email,onChange:c.handleChange,onBlur:c.handleBlur,error:c.touched.email&&Boolean(c.errors.email),helperText:c.touched.email&&c.errors.email,placeholder:"john123@gmail.com"}),(0,f.jsx)(J.A,{fullWidth:!0,variant:"contained",color:"primary",sx:{mt:2},onClick:()=>c.handleSubmit(),children:r?(0,f.jsx)(F.A,{sx:{color:ne.A.palette.primary.main3}}):"Continue"}),(0,f.jsx)(s.A,{mt:2,textAlign:"center",children:(0,f.jsxs)(V,{onClick:()=>n("/login"),variant:"body2",fontWeight:400,underline:"hover",sx:{cursor:"pointer",display:"flex",justifyContent:"center",alignItems:"center"},children:[(0,f.jsx)(oe,{sx:{fontSize:16,px:.5}})," Back to Login"]})})]})})},le=e=>{let{email:t,setOtp:n}=e;const r=(0,a.Zp)(),[i,l]=(0,o.useState)(!1),[c,d]=(0,o.useState)(["","","",""]),u=m(),p=x();return(0,f.jsx)(s.A,{className:u.componentContainer,children:(0,f.jsxs)(s.A,{width:"100%",maxWidth:400,children:[(0,f.jsx)(w.A,{variant:"h5",mb:2,children:"Password Reset"}),(0,f.jsxs)(w.A,{variant:"body1",fontSize:15,mb:2,children:["We sent a code to \u201c",t,"\u201d. Please enter the code below."]}),(0,f.jsx)(s.A,{className:p.codeInputContainer,children:c.map(((e,t)=>(0,f.jsx)(G.A,{id:"digit-".concat(t),value:e,onChange:e=>((e,t)=>{const n=[...c];if(n[t]=e.target.value.slice(0,1),d(n),e.target.value){const e=document.getElementById("digit-".concat(t+1));e&&e.focus()}})(e,t),onKeyDown:e=>((e,t)=>{if(/[0-9]/.test(e.key)||"Backspace"===e.key||e.preventDefault(),"Backspace"===e.key&&!c[t]){const e=document.getElementById("digit-".concat(t-1));e&&e.focus()}})(e,t),inputProps:{maxLength:1,style:{textAlign:"center",fontSize:32,color:ne.A.palette.primary.main8,overflow:"hidden"},inputMode:"numeric"}},t)))}),(0,f.jsx)(J.A,{fullWidth:!0,variant:"contained",color:"primary",sx:{mt:2},onClick:async()=>{const e=c.join("");if(4!==e.length)return(0,re.K)("Please enter a 4-digit OTP code.");l(!0);try{const s=await(0,se.RY)({OTP:e,Email:t});null!==s&&void 0!==s&&s.data&&(n(e),r("/new-password"),(0,re.n)("OTP verification successful."))}catch(s){(0,re.K)("OTP verification failed. Please try again.")}finally{l(!1)}},children:i?(0,f.jsx)(F.A,{sx:{color:ne.A.palette.primary.main3}}):"Continue"}),(0,f.jsx)(s.A,{mt:2,textAlign:"center",children:(0,f.jsxs)(V,{onClick:()=>r("/"),variant:"body2",fontWeight:400,underline:"hover",sx:{cursor:"pointer",display:"flex",justifyContent:"center",alignItems:"center"},children:[(0,f.jsx)(oe,{sx:{fontSize:16,px:.5}})," Back to Login"]})})]})})},ce=e=>{let{email:t,otp:n}=e;const r=(0,a.Zp)(),i=g(),[l,d]=(0,o.useState)(!1),[u,p]=(0,o.useState)(!1),[m,h]=(0,o.useState)(!1),x=(0,H.Wx)({initialValues:{password:"",confirmPassword:""},validationSchema:Z.Ik({password:Z.Yj().min(8,"Password should be at least 8 characters").matches(/[A-Z]/,"Password must include at least one uppercase letter").matches(/[a-z]/,"Password must include at least one lowercase letter").matches(/\d/,"Password must include at least one number").matches(/[@$!%*?&]/,"Password must include at least one special character").required("Password is required"),confirmPassword:Z.Yj().oneOf([Z.KR("password")],"Passwords must match").required("Confirm password is required")}),onSubmit:e=>{h(!0);const s={OTP:n,Email:t,NewPassword:e.password};y(s)}}),y=async e=>{try{(await(0,se.f3)(e)).data?(p(!0),setTimeout((()=>{r("/login"),h(!1)}),2e3)):(0,re.K)("Couldn't reset password!")}catch(t){(0,re.K)("Couldn't reset password!")}finally{h(!1)}},v=()=>{d((e=>!e))};return(0,f.jsxs)(s.A,{className:i.container,children:[(0,f.jsxs)(A.A,{elevation:0,className:i.paper,children:[(0,f.jsx)(w.A,{variant:"h5",className:i.title,children:"Set a new password"}),(0,f.jsx)(w.A,{className:i.description,children:"Your password must include special characters, capital letters, numbers, and lowercase letters."}),(0,f.jsxs)("form",{onSubmit:x.handleSubmit,children:[(0,f.jsxs)(s.A,{className:i.textFieldWrapper,children:[(0,f.jsx)(w.A,{className:i.label,children:"Password:"}),(0,f.jsx)(G.A,{fullWidth:!0,type:l?"text":"password",margin:"dense",variant:"outlined",required:!0,name:"password",value:x.values.password,onChange:x.handleChange,onBlur:x.handleBlur,error:x.touched.password&&Boolean(x.errors.password),helperText:x.touched.password&&x.errors.password,placeholder:"**********",slotProps:{input:{endAdornment:(0,f.jsx)(j.A,{position:"end",children:(0,f.jsx)(c.A,{onClick:v,edge:"end",sx:{color:"primary.main"},children:l?(0,f.jsx)(X.A,{}):(0,f.jsx)(_.A,{})})})}}})]}),(0,f.jsxs)(s.A,{className:i.textFieldWrapper,children:[(0,f.jsx)(w.A,{className:i.label,children:"Confirm Password:"}),(0,f.jsx)(G.A,{fullWidth:!0,type:l?"text":"password",margin:"dense",variant:"outlined",required:!0,name:"confirmPassword",value:x.values.confirmPassword,onChange:x.handleChange,onBlur:x.handleBlur,error:x.touched.confirmPassword&&Boolean(x.errors.confirmPassword),helperText:x.touched.confirmPassword&&x.errors.confirmPassword,placeholder:"**********",slotProps:{input:{endAdornment:(0,f.jsx)(j.A,{position:"end",children:(0,f.jsx)(c.A,{onClick:v,edge:"end",sx:{color:"primary.main"},children:l?(0,f.jsx)(X.A,{}):(0,f.jsx)(_.A,{})})})}}})]}),(0,f.jsx)(J.A,{fullWidth:!0,type:"submit",variant:"contained",className:i.buttonWrapper,children:m?(0,f.jsx)(F.A,{sx:{color:ne.A.palette.primary.main3}}):"Reset Password"})]}),(0,f.jsx)(s.A,{mt:2,textAlign:"center",children:(0,f.jsxs)(V,{onClick:()=>r("/login"),variant:"body2",fontWeight:400,underline:"hover",sx:{cursor:"pointer",display:"flex",justifyContent:"center",alignItems:"center"},children:[(0,f.jsx)(oe,{sx:{fontSize:16,px:.5}})," Back to Login"]})})]}),(0,f.jsx)(te,{open:u,modalType:"password",onClose:()=>p(!1)})]})},de=e=>{let{setIsAuthenticated:t}=e;const n=(0,a.zy)(),i=m(),[l,c]=(0,o.useState)(null),[d,u]=(0,o.useState)(!1),[p,h]=(0,o.useState)(),[x,g]=(0,o.useState)();return(0,o.useEffect)((()=>{u(!1);const e=setTimeout((()=>{c((()=>{switch(n.pathname){case"/forgot-password":return(0,f.jsx)(ie,{setEmail:h});case"/reset-password":return(0,f.jsx)(le,{email:p,setOtp:g});case"/new-password":return(0,f.jsx)(ce,{email:p,otp:x});default:return(0,f.jsx)(ae,{setIsAuthenticated:t})}})),u(!0)}),300);return()=>clearTimeout(e)}),[n.pathname]),(0,f.jsxs)(s.A,{className:i.root,children:[(0,f.jsx)(s.A,{className:i.carouselContainer,children:(0,f.jsx)(y,{})}),(0,f.jsx)(s.A,{className:i.componentContainer,children:(0,f.jsx)(r.A,{in:d,timeout:300,children:(0,f.jsx)("div",{className:i.fadeWrapper,children:l})})})]})}}}]);
//# sourceMappingURL=270.59c451af.chunk.js.map