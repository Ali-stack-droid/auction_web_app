"use strict";(self.webpackChunkauction_app_admin=self.webpackChunkauction_app_admin||[]).push([[881],{2881:(e,t,n)=>{n.r(t),n.d(t,{default:()=>P});var a=n(7353),i=n(4496),s=n(1828),l=n(4511),o=n(1806),c=n(4882),d=n(8076),r=n(39),x=n(3460),h=n(1906),p=n(1637),m=n(8911),u=n(9135),A=n(5043);const j=(0,n(8136).A)((e=>({header:{display:"flex",alignItems:"start",justifyContent:"space-between"},title:{fontSize:"30px",fontWeight:600,color:e.palette.primary.main,paddingBottom:"20px"},toggleContainer:{display:"flex",alignItems:"center",justifyContent:"center",border:"1px solid #E2E8F0",height:"40px",borderRadius:"5px",minWidth:"260px",maxWidth:"260px"},toggleButton:{textTransform:"none",transition:"background 0.25s ease-in-out, color 0.3s ease-in-out, font-size 0.25s ease-in-out",border:"none",borderRadius:"5px !important",width:"120px","&.pending":{fontSize:"11px",backgroundColor:"".concat(e.palette.primary.main," !important"),color:"white !important"},"&.paid":{fontSize:"10px",backgroundColor:"inherit",color:"".concat(e.palette.primary.main5," !important")}},paymentTable:{maxWidth:"100%",border:"1px solid #E2E8F0","& td":{fontSize:"16px",color:"#2A2A2A"},"& th":{fontSize:"18px"},"& td th":{textAlign:"left",whiteSpace:"nowrap",width:"fit-content",fontSize:"12px"},"& th:last-child, & td:last-child":{textAlign:"center"},"& th:nth-last-child(2), & td:nth-last-child(2)":{textAlign:"center"}},paginationWrapper:{display:"flex",justifyContent:"end",alignItems:"center",padding:"30px 0"},viewButton:{width:"100px",backgroundColor:"#377DFF",textTransform:"none",fontSize:"15px"},status:{width:"100px",textTransform:"none",fontSize:"15px",color:"white","&.active":{backgroundColor:"#009045"},"&.inactive":{backgroundColor:"#FF0000"}}}))),g=j;var v=n(706),f=n(1730),b=n(35),w=n(7392),y=n(9336),C=n(5316),N=n(3482),S=n(4044),k=n(579);const I=e=>{let{open:t,onClose:n,invoice:s}=e;const l=(0,S.A)();return(0,k.jsx)(b.A,{open:t,onClose:n,fullWidth:!0,maxWidth:"sm",children:(0,k.jsxs)(a.A,{p:2,children:[(0,k.jsxs)(a.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",paddingBottom:"5px"},children:[(0,k.jsx)(i.A,{variant:"h5",className:l.title,children:"Invoice Details"}),(0,k.jsx)(w.A,{onClick:n,children:(0,k.jsx)(N.A,{sx:{color:"black",padding:"1px",border:"1px solid #676767",borderRadius:"50px"}})})]}),(0,k.jsx)(y.A,{sx:{py:1}}),(0,k.jsx)(C.A,{className:l.modalContent,children:s?(0,k.jsx)(a.A,{style:{padding:"10px"},children:[{label:"Name",value:s.name},{label:"Email",value:s.email},{label:"Total Amount",value:"$".concat(s.amount)},{label:"Paid Amount",value:"$".concat(s.paidAmount)},{label:"Pending Amount",value:"$".concat(s.amount-s.paidAmount)},{label:"Deadline",value:s.deadline},{label:"Status",value:s.status}].map(((e,t)=>(0,k.jsxs)(a.A,{className:l.bidderDetails,children:[(0,k.jsx)(a.A,{sx:{flex:.3},children:(0,k.jsxs)(i.A,{textAlign:"left",className:l.bidderHeading,children:[e.label,":"]})}),(0,k.jsx)(a.A,{sx:{flex:.7},children:(0,k.jsx)(i.A,{textAlign:"left",className:l.paymentValue,children:e.value})})]},t)))}):(0,k.jsx)(a.A,{className:l.noBidder,children:(0,k.jsx)(i.A,{children:"No Invoice Found!"})})})]})})};var z=n(8393),D=n(1873);const P=()=>{const e=g(),[t,n]=(0,A.useState)([]),[j,b]=(0,A.useState)(!1),[w,y]=(0,A.useState)(0),[C,N]=(0,A.useState)({}),[S,P]=(0,A.useState)(!1),[E,F]=(0,A.useState)(!1),[B,T]=(0,A.useState)(!1);(0,A.useEffect)((()=>{W()}),[S]);const W=async()=>{b(!0);try{const e=S?await(0,v.lw)():await(0,v.af)();if(e.data&&e.data.length>0){const t=e.data.map((e=>({invoiceId:e.Id,name:e.Name,email:e.Email,amount:e.TotalAmount,deadline:e.Date,status:e.Status,totalLots:e.TotalLots,paidAmount:e.PaidAmount,pendingAmount:e.Pending,paymentMethod:e.PaymenMethod})));n(t)}else n([])}catch(e){}finally{b(!1)}},R=Math.ceil(t.length/10),_=e=>{const[t,n,a]=e.split("-");return"".concat(n,"-").concat(t,"-").concat(a)};return(0,k.jsxs)(a.A,{sx:{padding:2},children:[(0,k.jsxs)(a.A,{className:e.header,children:[(0,k.jsx)(i.A,{className:e.title,children:S?"Paid Invoices":"Pending Invoices"}),(0,k.jsx)(a.A,{className:e.toggleContainer,children:(0,k.jsxs)(s.A,{value:S?"paid":"pending",exclusive:!0,onChange:()=>{j||(y(0),P(!S))},sx:{maxHeight:"30px"},children:[(0,k.jsx)(l.A,{value:"pending",className:"".concat(e.toggleButton," ").concat(S?"paid":"pending"),children:"Pending Invoices"}),(0,k.jsx)(l.A,{value:"paid",className:"".concat(e.toggleButton," ").concat(S?"pending":"paid"),children:"Paid Invoices"})]})})]}),!j&&t.length>0?(0,k.jsxs)(a.A,{children:[(0,k.jsxs)(o.A,{className:e.paymentTable,"aria-label":"simple table",children:[(0,k.jsx)(c.A,{sx:{backgroundColor:"#19549F"},children:(0,k.jsxs)(d.A,{children:[(0,k.jsx)(r.A,{sx:{color:"white"},children:"Invoice ID"}),(0,k.jsx)(r.A,{sx:{color:"white"},children:"Name"}),(0,k.jsx)(r.A,{sx:{color:"white"},children:"Email"}),(0,k.jsx)(r.A,{sx:{color:"white"},children:"Amount"}),(0,k.jsx)(r.A,{sx:{color:"white"},children:"Deadline"}),(0,k.jsx)(r.A,{sx:{color:"white"},children:"Details"}),(0,k.jsx)(r.A,{sx:{color:"white"},children:"Status"}),!S&&(0,k.jsx)(r.A,{sx:{color:"white"},children:"Action"})]})}),(0,k.jsx)(x.A,{children:t.slice(10*w,10*w+10).map(((n,a)=>(0,k.jsxs)(d.A,{children:[(0,k.jsx)(r.A,{children:n.invoiceId}),(0,k.jsx)(r.A,{children:n.name}),(0,k.jsx)(r.A,{children:n.email}),(0,k.jsx)(r.A,{children:n.amount}),(0,k.jsx)(r.A,{children:n.deadline}),(0,k.jsx)(r.A,{children:(0,k.jsx)(h.A,{variant:"contained",className:e.viewButton,onClick:()=>(N(t[a]),void T(!0)),children:"View"})}),(0,k.jsx)(r.A,{children:S?(0,k.jsx)(h.A,{variant:"contained",className:"".concat(e.status," ","active"),children:"Paid"}):(0,k.jsx)(h.A,{variant:"contained",className:"".concat(e.status," ").concat(n.status?"active":"inactive"),children:n.status?"Active":"Inactive"})}),!S&&(0,k.jsx)(r.A,{children:(0,k.jsx)(h.A,{variant:"contained",className:"".concat(e.status," ","active"),onClick:()=>(async e=>{F(!0);try{const t=await(0,v.kK)(e);t&&console.log(t)}catch(t){(0,D.K)("Failed to send reminder")}finally{F(!1)}})({Email:"parkerauction369@gmail.com",Amount:n.amount,DueDate:_(n.deadline)}),children:E?(0,k.jsx)(p.A,{size:25,sx:{color:z.A.palette.primary.main3}}):"Remember"})})]},n.invoiceId)))})]}),(0,k.jsx)(a.A,{className:e.paginationWrapper,children:(0,k.jsx)(m.A,{spacing:0,children:(0,k.jsx)(u.A,{count:R,page:w+1,onChange:(e,t)=>{y(t-1)},variant:"outlined",shape:"rounded"})})})]}):j?(0,k.jsx)(a.A,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"70vh",width:"100%"},children:(0,k.jsx)(p.A,{size:70,disableShrink:!0})}):(0,k.jsx)(a.A,{sx:{maxHeight:"65vh"},children:(0,k.jsx)(f.A,{})}),(0,k.jsx)(I,{open:B,onClose:()=>T(!1),invoice:C})]})}}}]);
//# sourceMappingURL=881.5567c5fb.chunk.js.map